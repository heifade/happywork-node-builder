#!/usr/bin/env node
"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var events=_interopDefault(require("events")),child_process=require("child_process"),child_process__default=_interopDefault(child_process),path=require("path"),path__default=_interopDefault(path),fs=require("fs"),fs__default=_interopDefault(fs),util=_interopDefault(require("util")),os=_interopDefault(require("os")),crypto=_interopDefault(require("crypto")),tslib_1=require("tslib");require("typescript");var rollup=require("rollup"),json=_interopDefault(require("rollup-plugin-json")),typescript$1=_interopDefault(require("rollup-plugin-typescript")),resolve=_interopDefault(require("rollup-plugin-node-resolve")),commonjs=_interopDefault(require("rollup-plugin-commonjs")),babel=_interopDefault(require("rollup-plugin-babel")),rollupPluginTerser=require("rollup-plugin-terser");function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var commander=createCommonjsModule(function(t,e){var r=events.EventEmitter,n=child_process__default.spawn,i=path__default.dirname,o=path__default.basename;function a(t,e){this.flags=t,this.required=t.indexOf("<")>=0,this.optional=t.indexOf("[")>=0,this.bool=-1===t.indexOf("-no-"),(t=t.split(/[ ,|]+/)).length>1&&!/^[[<]/.test(t[1])&&(this.short=t.shift()),this.long=t.shift(),this.description=e||""}function s(t){this.commands=[],this.options=[],this._execs={},this._allowUnknownOption=!1,this._args=[],this._name=t||""}function c(t,e){var r=Math.max(0,e-t.length);return t+Array(r+1).join(" ")}function l(t,e){e=e||[];for(var r=0;r<e.length;r++)"--help"!==e[r]&&"-h"!==e[r]||(t.outputHelp(),process.exit(0))}function u(t){var e=t.name+(!0===t.variadic?"...":"");return t.required?"<"+e+">":"["+e+"]"}function p(t){try{if(fs__default.statSync(t).isFile())return!0}catch(t){return!1}}util.inherits(s,r),(e=t.exports=new s).Command=s,e.Option=a,a.prototype.name=function(){return this.long.replace("--","").replace("no-","")},a.prototype.attributeName=function(){return this.name().split("-").reduce(function(t,e){return t+e[0].toUpperCase()+e.slice(1)})},a.prototype.is=function(t){return this.short===t||this.long===t},s.prototype.command=function(t,e,r){"object"==typeof e&&null!==e&&(r=e,e=null),r=r||{};var n=t.split(/ +/),i=new s(n.shift());return e&&(i.description(e),this.executables=!0,this._execs[i._name]=!0,r.isDefault&&(this.defaultExecutable=i._name)),i._noHelp=!!r.noHelp,this.commands.push(i),i.parseExpectedArgs(n),i.parent=this,e?this:i},s.prototype.arguments=function(t){return this.parseExpectedArgs(t.split(/ +/))},s.prototype.addImplicitHelpCommand=function(){this.command("help [cmd]","display help for [cmd]")},s.prototype.parseExpectedArgs=function(t){if(t.length){var e=this;return t.forEach(function(t){var r={required:!1,name:"",variadic:!1};switch(t[0]){case"<":r.required=!0,r.name=t.slice(1,-1);break;case"[":r.name=t.slice(1,-1)}r.name.length>3&&"..."===r.name.slice(-3)&&(r.variadic=!0,r.name=r.name.slice(0,-3)),r.name&&e._args.push(r)}),this}},s.prototype.action=function(t){var e=this,r=function(r,n){r=r||[],n=n||[];var i=e.parseOptions(n);l(e,i.unknown),i.unknown.length>0&&e.unknownOption(i.unknown[0]),i.args.length&&(r=i.args.concat(r)),e._args.forEach(function(t,n){t.required&&null==r[n]?e.missingArgument(t.name):t.variadic&&(n!==e._args.length-1&&e.variadicArgNotLast(t.name),r[n]=r.splice(n))}),e._args.length?r[e._args.length]=e:r.push(e),t.apply(e,r)},n=this.parent||this,i=n===this?"*":this._name;return n.on("command:"+i,r),this._alias&&n.on("command:"+this._alias,r),this},s.prototype.option=function(t,e,r,n){var i=this,o=new a(t,e),s=o.name(),c=o.attributeName();if("function"!=typeof r)if(r instanceof RegExp){var l=r;r=function(t,e){var r=l.exec(t);return r?r[0]:e}}else n=r,r=null;return(!o.bool||o.optional||o.required)&&(o.bool||(n=!0),void 0!==n&&(i[c]=n,o.defaultValue=n)),this.options.push(o),this.on("option:"+s,function(t){null!==t&&r&&(t=r(t,void 0===i[c]?n:i[c])),"boolean"==typeof i[c]||void 0===i[c]?i[c]=null==t?!!o.bool&&(n||!0):t:null!==t&&(i[c]=t)}),this},s.prototype.allowUnknownOption=function(t){return this._allowUnknownOption=0===arguments.length||t,this},s.prototype.parse=function(t){this.executables&&this.addImplicitHelpCommand(),this.rawArgs=t,this._name=this._name||o(t[1],".js"),this.executables&&t.length<3&&!this.defaultExecutable&&t.push("--help");var e=this.parseOptions(this.normalize(t.slice(2))),r=this.args=e.args,n=this.parseArgs(this.args,e.unknown),i=n.args[0],a=null;return i&&(a=this.commands.filter(function(t){return t.alias()===i})[0]),this._execs[i]&&"function"!=typeof this._execs[i]?this.executeSubCommand(t,r,e.unknown):a?(r[0]=a._name,this.executeSubCommand(t,r,e.unknown)):this.defaultExecutable?(r.unshift(this.defaultExecutable),this.executeSubCommand(t,r,e.unknown)):n},s.prototype.executeSubCommand=function(t,e,r){(e=e.concat(r)).length||this.help(),"help"===e[0]&&1===e.length&&this.help(),"help"===e[0]&&(e[0]=e[1],e[1]="--help");var a,s=t[1],c=o(s,path__default.extname(s))+"-"+e[0],l=fs__default.lstatSync(s).isSymbolicLink()?fs__default.readlinkSync(s):s;l!==s&&"/"!==l.charAt(0)&&(l=path__default.join(i(s),l)),a=i(l);var u,h=path__default.join(a,c),f=!1;p(h+".js")?(c=h+".js",f=!0):p(h+".ts")?(c=h+".ts",f=!0):p(h)&&(c=h),e=e.slice(1),"win32"!==process.platform?f?(e.unshift(c),e=(process.execArgv||[]).concat(e),u=n(process.argv[0],e,{stdio:"inherit",customFds:[0,1,2]})):u=n(c,e,{stdio:"inherit",customFds:[0,1,2]}):(e.unshift(c),u=n(process.execPath,e,{stdio:"inherit"}));["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(function(t){process.on(t,function(){!1===u.killed&&null===u.exitCode&&u.kill(t)})}),u.on("close",process.exit.bind(process)),u.on("error",function(t){"ENOENT"===t.code?console.error("error: %s(1) does not exist, try --help",c):"EACCES"===t.code&&console.error("error: %s(1) not executable. try chmod or run with root",c),process.exit(1)}),this.runningCommand=u},s.prototype.normalize=function(t){for(var e,r,n,i=[],o=0,a=t.length;o<a;++o){if(e=t[o],o>0&&(r=this.optionFor(t[o-1])),"--"===e){i=i.concat(t.slice(o));break}r&&r.required?i.push(e):e.length>1&&"-"===e[0]&&"-"!==e[1]?e.slice(1).split("").forEach(function(t){i.push("-"+t)}):/^--/.test(e)&&~(n=e.indexOf("="))?i.push(e.slice(0,n),e.slice(n+1)):i.push(e)}return i},s.prototype.parseArgs=function(t,e){var r;return t.length?(r=t[0],this.listeners("command:"+r).length?this.emit("command:"+t.shift(),t,e):this.emit("command:*",t)):(l(this,e),e.length>0&&this.unknownOption(e[0]),0===this.commands.length&&0===this._args.filter(function(t){return t.required}).length&&this.emit("command:*")),this},s.prototype.optionFor=function(t){for(var e=0,r=this.options.length;e<r;++e)if(this.options[e].is(t))return this.options[e]},s.prototype.parseOptions=function(t){for(var e,r,n,i=[],o=t.length,a=[],s=0;s<o;++s)if(n=t[s],e)i.push(n);else if("--"!==n)if(r=this.optionFor(n))if(r.required){if(null==(n=t[++s]))return this.optionMissingArgument(r);this.emit("option:"+r.name(),n)}else r.optional?(null==(n=t[s+1])||"-"===n[0]&&"-"!==n?n=null:++s,this.emit("option:"+r.name(),n)):this.emit("option:"+r.name());else n.length>1&&"-"===n[0]?(a.push(n),s+1<t.length&&"-"!==t[s+1][0]&&a.push(t[++s])):i.push(n);else e=!0;return{args:i,unknown:a}},s.prototype.opts=function(){for(var t={},e=this.options.length,r=0;r<e;r++){var n=this.options[r].attributeName();t[n]=n===this._versionOptionName?this._version:this[n]}return t},s.prototype.missingArgument=function(t){console.error("error: missing required argument `%s'",t),process.exit(1)},s.prototype.optionMissingArgument=function(t,e){e?console.error("error: option `%s' argument missing, got `%s'",t.flags,e):console.error("error: option `%s' argument missing",t.flags),process.exit(1)},s.prototype.unknownOption=function(t){this._allowUnknownOption||(console.error("error: unknown option `%s'",t),process.exit(1))},s.prototype.variadicArgNotLast=function(t){console.error("error: variadic arguments must be last `%s'",t),process.exit(1)},s.prototype.version=function(t,e){if(0===arguments.length)return this._version;this._version=t;var r=new a(e=e||"-V, --version","output the version number");return this._versionOptionName=r.long.substr(2)||"version",this.options.push(r),this.on("option:"+this._versionOptionName,function(){process.stdout.write(t+"\n"),process.exit(0)}),this},s.prototype.description=function(t,e){return 0===arguments.length?this._description:(this._description=t,this._argsDescription=e,this)},s.prototype.alias=function(t){var e=this;if(0!==this.commands.length&&(e=this.commands[this.commands.length-1]),0===arguments.length)return e._alias;if(t===e._name)throw new Error("Command alias can't be the same as its name");return e._alias=t,this},s.prototype.usage=function(t){var e=this._args.map(function(t){return u(t)}),r="[options]"+(this.commands.length?" [command]":"")+(this._args.length?" "+e.join(" "):"");return 0===arguments.length?this._usage||r:(this._usage=t,this)},s.prototype.name=function(t){return 0===arguments.length?this._name:(this._name=t,this)},s.prototype.prepareCommands=function(){return this.commands.filter(function(t){return!t._noHelp}).map(function(t){var e=t._args.map(function(t){return u(t)}).join(" ");return[t._name+(t._alias?"|"+t._alias:"")+(t.options.length?" [options]":"")+(e?" "+e:""),t._description]})},s.prototype.largestCommandLength=function(){return this.prepareCommands().reduce(function(t,e){return Math.max(t,e[0].length)},0)},s.prototype.largestOptionLength=function(){var t=[].slice.call(this.options);return t.push({flags:"-h, --help"}),t.reduce(function(t,e){return Math.max(t,e.flags.length)},0)},s.prototype.largestArgLength=function(){return this._args.reduce(function(t,e){return Math.max(t,e.name.length)},0)},s.prototype.padWidth=function(){var t=this.largestOptionLength();return this._argsDescription&&this._args.length&&this.largestArgLength()>t&&(t=this.largestArgLength()),this.commands&&this.commands.length&&this.largestCommandLength()>t&&(t=this.largestCommandLength()),t},s.prototype.optionHelp=function(){var t=this.padWidth();return this.options.map(function(e){return c(e.flags,t)+"  "+e.description+(e.bool&&void 0!==e.defaultValue?" (default: "+JSON.stringify(e.defaultValue)+")":"")}).concat([c("-h, --help",t)+"  output usage information"]).join("\n")},s.prototype.commandHelp=function(){if(!this.commands.length)return"";var t=this.prepareCommands(),e=this.padWidth();return["Commands:",t.map(function(t){var r=t[1]?"  "+t[1]:"";return(r?c(t[0],e):t[0])+r}).join("\n").replace(/^/gm,"  "),""].join("\n")},s.prototype.helpInformation=function(){var t=[];if(this._description){t=[this._description,""];var e=this._argsDescription;if(e&&this._args.length){var r=this.padWidth();t.push("Arguments:"),t.push(""),this._args.forEach(function(n){t.push("  "+c(n.name,r)+"  "+e[n.name])}),t.push("")}}var n=this._name;this._alias&&(n=n+"|"+this._alias);var i=["Usage: "+n+" "+this.usage(),""],o=[],a=this.commandHelp();a&&(o=[a]);var s=["Options:",""+this.optionHelp().replace(/^/gm,"  "),""];return i.concat(t).concat(s).concat(o).join("\n")},s.prototype.outputHelp=function(t){t||(t=function(t){return t}),process.stdout.write(t(this.helpInformation())),this.emit("--help")},s.prototype.help=function(t){this.outputHelp(t),process.exit()}}),commander_1=commander.Command,commander_2=commander.Option,matchOperatorsRe=/[|\\{}()[\]^$+*?.]/g,escapeStringRegexp=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(matchOperatorsRe,"\\$&")},colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},conversions=createCommonjsModule(function(t){var e={};for(var r in colorName)colorName.hasOwnProperty(r)&&(e[colorName[r]]=r);var n=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var i in n)if(n.hasOwnProperty(i)){if(!("channels"in n[i]))throw new Error("missing channels property: "+i);if(!("labels"in n[i]))throw new Error("missing channel labels property: "+i);if(n[i].labels.length!==n[i].channels)throw new Error("channel and label counts mismatch: "+i);var o=n[i].channels,a=n[i].labels;delete n[i].channels,delete n[i].labels,Object.defineProperty(n[i],"channels",{value:o}),Object.defineProperty(n[i],"labels",{value:a})}n.rgb.hsl=function(t){var e,r,n=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(n,i,o),s=Math.max(n,i,o),c=s-a;return s===a?e=0:n===s?e=(i-o)/c:i===s?e=2+(o-n)/c:o===s&&(e=4+(n-i)/c),(e=Math.min(60*e,360))<0&&(e+=360),r=(a+s)/2,[e,100*(s===a?0:r<=.5?c/(s+a):c/(2-s-a)),100*r]},n.rgb.hsv=function(t){var e,r,n,i,o,a=t[0]/255,s=t[1]/255,c=t[2]/255,l=Math.max(a,s,c),u=l-Math.min(a,s,c),p=function(t){return(l-t)/6/u+.5};return 0===u?i=o=0:(o=u/l,e=p(a),r=p(s),n=p(c),a===l?i=n-r:s===l?i=1/3+e-n:c===l&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*l]},n.rgb.hwb=function(t){var e=t[0],r=t[1],i=t[2];return[n.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(r,i))),100*(i=1-1/255*Math.max(e,Math.max(r,i)))]},n.rgb.cmyk=function(t){var e,r=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*((1-r-(e=Math.min(1-r,1-n,1-i)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-i-e)/(1-e)||0),100*e]},n.rgb.keyword=function(t){var r=e[t];if(r)return r;var n,i,o,a=1/0;for(var s in colorName)if(colorName.hasOwnProperty(s)){var c=colorName[s],l=(i=t,o=c,Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)+Math.pow(i[2]-o[2],2));l<a&&(a=l,n=s)}return n},n.keyword.rgb=function(t){return colorName[t]},n.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*r+.0722*n),100*(.0193*e+.1192*r+.9505*n)]},n.rgb.lab=function(t){var e=n.rgb.xyz(t),r=e[0],i=e[1],o=e[2];return i/=100,o/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(r-i),200*(i-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},n.hsl.rgb=function(t){var e,r,n,i,o,a=t[0]/360,s=t[1]/100,c=t[2]/100;if(0===s)return[o=255*c,o,o];e=2*c-(r=c<.5?c*(1+s):c+s-c*s),i=[0,0,0];for(var l=0;l<3;l++)(n=a+1/3*-(l-1))<0&&n++,n>1&&n--,o=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e,i[l]=255*o;return i},n.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=r,o=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=o<=1?o:2-o,[e,100*(0===n?2*i/(o+i):2*r/(n+r)),100*((n+r)/2)]},n.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*n*(1-r),s=255*n*(1-r*o),c=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,c,a];case 1:return[s,n,a];case 2:return[a,n,c];case 3:return[a,s,n];case 4:return[c,a,n];case 5:return[n,a,s]}},n.hsv.hsl=function(t){var e,r,n,i=t[0],o=t[1]/100,a=t[2]/100,s=Math.max(a,.01);return n=(2-o)*a,r=o*s,[i,100*(r=(r/=(e=(2-o)*s)<=1?e:2-e)||0),100*(n/=2)]},n.hwb.rgb=function(t){var e,r,n,i,o,a,s,c=t[0]/360,l=t[1]/100,u=t[2]/100,p=l+u;switch(p>1&&(l/=p,u/=p),n=6*c-(e=Math.floor(6*c)),0!=(1&e)&&(n=1-n),i=l+n*((r=1-u)-l),e){default:case 6:case 0:o=r,a=i,s=l;break;case 1:o=i,a=r,s=l;break;case 2:o=l,a=r,s=i;break;case 3:o=l,a=i,s=r;break;case 4:o=i,a=l,s=r;break;case 5:o=r,a=l,s=i}return[255*o,255*a,255*s]},n.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},n.xyz.rgb=function(t){var e,r,n,i=t[0]/100,o=t[1]/100,a=t[2]/100;return r=-.9689*i+1.8758*o+.0415*a,n=.0557*i+-.204*o+1.057*a,e=(e=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(e=Math.min(Math.max(0,e),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},n.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2];return r/=100,n/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(e-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},n.lab.xyz=function(t){var e,r,n,i=t[0];e=t[1]/500+(r=(i+16)/116),n=r-t[2]/200;var o=Math.pow(r,3),a=Math.pow(e,3),s=Math.pow(n,3);return r=o>.008856?o:(r-16/116)/7.787,e=a>.008856?a:(e-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,[e*=95.047,r*=100,n*=108.883]},n.lab.lch=function(t){var e,r=t[0],n=t[1],i=t[2];return(e=360*Math.atan2(i,n)/2/Math.PI)<0&&(e+=360),[r,Math.sqrt(n*n+i*i),e]},n.lch.lab=function(t){var e,r=t[0],n=t[1];return e=t[2]/360*2*Math.PI,[r,n*Math.cos(e),n*Math.sin(e)]},n.rgb.ansi16=function(t){var e=t[0],r=t[1],i=t[2],o=1 in arguments?arguments[1]:n.rgb.hsv(t)[2];if(0===(o=Math.round(o/50)))return 30;var a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return 2===o&&(a+=60),a},n.hsv.ansi16=function(t){return n.rgb.ansi16(n.hsv.rgb(t),t[2])},n.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},n.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},n.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var r;return t-=16,[Math.floor(t/36)/5*255,Math.floor((r=t%36)/6)/5*255,r%6/5*255]},n.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},n.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];3===e[0].length&&(r=r.split("").map(function(t){return t+t}).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},n.rgb.hcg=function(t){var e,r=t[0]/255,n=t[1]/255,i=t[2]/255,o=Math.max(Math.max(r,n),i),a=Math.min(Math.min(r,n),i),s=o-a;return e=s<=0?0:o===r?(n-i)/s%6:o===n?2+(i-r)/s:4+(r-n)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?a/(1-s):0)]},n.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,i=0;return(n=r<.5?2*e*r:2*e*(1-r))<1&&(i=(r-.5*n)/(1-n)),[t[0],100*n,100*i]},n.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],100*n,100*i]},n.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(0===r)return[255*n,255*n,255*n];var i,o=[0,0,0],a=e%1*6,s=a%1,c=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=c,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=c,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=c}return i=(1-r)*n,[255*(r*o[0]+i),255*(r*o[1]+i),255*(r*o[2]+i)]},n.hcg.hsv=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e),n=0;return r>0&&(n=e/r),[t[0],100*n,100*r]},n.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100*(1-e)+.5*e,n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],100*n,100*r]},n.hcg.hwb=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},n.hwb.hcg=function(t){var e=t[1]/100,r=1-t[2]/100,n=r-e,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],100*n,100*i]},n.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},n.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},n.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},n.gray.hsl=n.gray.hsv=function(t){return[0,0,t[0]]},n.gray.hwb=function(t){return[0,100,t[0]]},n.gray.cmyk=function(t){return[0,0,0,t[0]]},n.gray.lab=function(t){return[t[0],0,0]},n.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},n.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}}),conversions_1=conversions.rgb,conversions_2=conversions.hsl,conversions_3=conversions.hsv,conversions_4=conversions.hwb,conversions_5=conversions.cmyk,conversions_6=conversions.xyz,conversions_7=conversions.lab,conversions_8=conversions.lch,conversions_9=conversions.hex,conversions_10=conversions.keyword,conversions_11=conversions.ansi16,conversions_12=conversions.ansi256,conversions_13=conversions.hcg,conversions_14=conversions.apple,conversions_15=conversions.gray;function buildGraph(){for(var t={},e=Object.keys(conversions),r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function deriveBFS(t){var e=buildGraph(),r=[t];for(e[t].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(conversions[n]),o=i.length,a=0;a<o;a++){var s=i[a],c=e[s];-1===c.distance&&(c.distance=e[n].distance+1,c.parent=n,r.unshift(s))}return e}function link(t,e){return function(r){return e(t(r))}}function wrapConversion(t,e){for(var r=[e[t].parent,t],n=conversions[e[t].parent][t],i=e[t].parent;e[i].parent;)r.unshift(e[i].parent),n=link(conversions[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}var route=function(t){for(var e=deriveBFS(t),r={},n=Object.keys(e),i=n.length,o=0;o<i;o++){var a=n[o];null!==e[a].parent&&(r[a]=wrapConversion(a,e))}return r},convert={},models=Object.keys(conversions);function wrapRaw(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}function wrapRounded(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var r=t(e);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}models.forEach(function(t){convert[t]={},Object.defineProperty(convert[t],"channels",{value:conversions[t].channels}),Object.defineProperty(convert[t],"labels",{value:conversions[t].labels});var e=route(t);Object.keys(e).forEach(function(r){var n=e[r];convert[t][r]=wrapRounded(n),convert[t][r].raw=wrapRaw(n)})});var colorConvert=convert,ansiStyles=createCommonjsModule(function(t){const e=(t,e)=>(function(){return`[${t.apply(colorConvert,arguments)+e}m`}),r=(t,e)=>(function(){const r=t.apply(colorConvert,arguments);return`[${38+e};5;${r}m`}),n=(t,e)=>(function(){const r=t.apply(colorConvert,arguments);return`[${38+e};2;${r[0]};${r[1]};${r[2]}m`});Object.defineProperty(t,"exports",{enumerable:!0,get:function(){const t=new Map,i={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};i.color.grey=i.color.gray;for(const e of Object.keys(i)){const r=i[e];for(const e of Object.keys(r)){const n=r[e];i[e]={open:`[${n[0]}m`,close:`[${n[1]}m`},r[e]=i[e],t.set(n[0],n[1])}Object.defineProperty(i,e,{value:r,enumerable:!1}),Object.defineProperty(i,"codes",{value:t,enumerable:!1})}const o=t=>t,a=(t,e,r)=>[t,e,r];i.color.close="[39m",i.bgColor.close="[49m",i.color.ansi={ansi:e(o,0)},i.color.ansi256={ansi256:r(o,0)},i.color.ansi16m={rgb:n(a,0)},i.bgColor.ansi={ansi:e(o,10)},i.bgColor.ansi256={ansi256:r(o,10)},i.bgColor.ansi16m={rgb:n(a,10)};for(let t of Object.keys(colorConvert)){if("object"!=typeof colorConvert[t])continue;const o=colorConvert[t];"ansi16"===t&&(t="ansi"),"ansi16"in o&&(i.color.ansi[t]=e(o.ansi16,0),i.bgColor.ansi[t]=e(o.ansi16,10)),"ansi256"in o&&(i.color.ansi256[t]=r(o.ansi256,0),i.bgColor.ansi256[t]=r(o.ansi256,10)),"rgb"in o&&(i.color.ansi16m[t]=n(o.rgb,0),i.bgColor.ansi16m[t]=n(o.rgb,10))}return i}})}),hasFlag=(t,e)=>{e=e||process.argv;const r=t.startsWith("-")?"":1===t.length?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return-1!==n&&(-1===i||n<i)};const env=process.env;let forceColor;function translateLevel(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function supportsColor(t){if(!1===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(t&&!t.isTTY&&!0!==forceColor)return 0;const e=forceColor?1:0;if("win32"===process.platform){const t=os.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in env)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in env)||"codeship"===env.CI_NAME?1:e;if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0;if("truecolor"===env.COLORTERM)return 3;if("TERM_PROGRAM"in env){const t=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)?1:"COLORTERM"in env?1:(env.TERM,e)}function getSupportLevel(t){return translateLevel(supportsColor(t))}hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")?forceColor=!1:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=!0),"FORCE_COLOR"in env&&(forceColor=0===env.FORCE_COLOR.length||0!==parseInt(env.FORCE_COLOR,10));var supportsColor_1={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)};const TEMPLATE_REGEX=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,STYLE_REGEX=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,STRING_REGEX=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ESCAPE_REGEX=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,ESCAPES=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function unescape(t){return"u"===t[0]&&5===t.length||"x"===t[0]&&3===t.length?String.fromCharCode(parseInt(t.slice(1),16)):ESCAPES.get(t)||t}function parseArguments(t,e){const r=[],n=e.trim().split(/\s*,\s*/g);let i;for(const e of n)if(isNaN(e)){if(!(i=e.match(STRING_REGEX)))throw new Error(`Invalid Chalk template style argument: ${e} (in style '${t}')`);r.push(i[2].replace(ESCAPE_REGEX,(t,e,r)=>e?unescape(e):r))}else r.push(Number(e));return r}function parseStyle(t){STYLE_REGEX.lastIndex=0;const e=[];let r;for(;null!==(r=STYLE_REGEX.exec(t));){const t=r[1];if(r[2]){const n=parseArguments(t,r[2]);e.push([t].concat(n))}else e.push([t])}return e}function buildStyle(t,e){const r={};for(const t of e)for(const e of t.styles)r[e[0]]=t.inverse?null:e.slice(1);let n=t;for(const t of Object.keys(r))if(Array.isArray(r[t])){if(!(t in n))throw new Error(`Unknown Chalk style: ${t}`);n=r[t].length>0?n[t].apply(n,r[t]):n[t]}return n}var templates=(t,e)=>{const r=[],n=[];let i=[];if(e.replace(TEMPLATE_REGEX,(e,o,a,s,c,l)=>{if(o)i.push(unescape(o));else if(s){const e=i.join("");i=[],n.push(0===r.length?e:buildStyle(t,r)(e)),r.push({inverse:a,styles:parseStyle(s)})}else if(c){if(0===r.length)throw new Error("Found extraneous } in Chalk template literal");n.push(buildStyle(t,r)(i.join(""))),i=[],r.pop()}else i.push(l)}),n.push(i.join("")),r.length>0){const t=`Chalk template literal is missing ${r.length} closing bracket${1===r.length?"":"s"} (\`}\`)`;throw new Error(t)}return n.join("")},chalk=createCommonjsModule(function(t){const e=supportsColor_1.stdout,r="win32"===process.platform&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),n=["ansi","ansi","ansi256","ansi16m"],i=new Set(["gray"]),o=Object.create(null);function a(t,r){r=r||{};const n=e?e.level:0;t.level=void 0===r.level?n:r.level,t.enabled="enabled"in r?r.enabled:t.level>0}function s(t){if(!this||!(this instanceof s)||this.template){const e={};return a(e,t),e.template=function(){const t=[].slice.call(arguments);return function(t,e){if(!Array.isArray(e))return[].slice.call(arguments,1).join(" ");const r=[].slice.call(arguments,2),n=[e.raw[0]];for(let t=1;t<e.length;t++)n.push(String(r[t-1]).replace(/[{}\\]/g,"\\$&")),n.push(String(e.raw[t]));return templates(t,n.join(""))}.apply(null,[e.template].concat(t))},Object.setPrototypeOf(e,s.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=s,e.template}a(this,t)}r&&(ansiStyles.blue.open="[94m");for(const t of Object.keys(ansiStyles))ansiStyles[t].closeRe=new RegExp(escapeStringRegexp(ansiStyles[t].close),"g"),o[t]={get(){const e=ansiStyles[t];return l.call(this,this._styles?this._styles.concat(e):[e],this._empty,t)}};o.visible={get(){return l.call(this,this._styles||[],!0,"visible")}},ansiStyles.color.closeRe=new RegExp(escapeStringRegexp(ansiStyles.color.close),"g");for(const t of Object.keys(ansiStyles.color.ansi))i.has(t)||(o[t]={get(){const e=this.level;return function(){const r={open:ansiStyles.color[n[e]][t].apply(null,arguments),close:ansiStyles.color.close,closeRe:ansiStyles.color.closeRe};return l.call(this,this._styles?this._styles.concat(r):[r],this._empty,t)}}});ansiStyles.bgColor.closeRe=new RegExp(escapeStringRegexp(ansiStyles.bgColor.close),"g");for(const t of Object.keys(ansiStyles.bgColor.ansi)){if(i.has(t))continue;o["bg"+t[0].toUpperCase()+t.slice(1)]={get(){const e=this.level;return function(){const r={open:ansiStyles.bgColor[n[e]][t].apply(null,arguments),close:ansiStyles.bgColor.close,closeRe:ansiStyles.bgColor.closeRe};return l.call(this,this._styles?this._styles.concat(r):[r],this._empty,t)}}}}const c=Object.defineProperties(()=>{},o);function l(t,e,n){const i=function(){return function(){const t=arguments,e=t.length;let n=String(arguments[0]);if(0===e)return"";if(e>1)for(let r=1;r<e;r++)n+=" "+t[r];if(!this.enabled||this.level<=0||!n)return this._empty?"":n;const i=ansiStyles.dim.open;r&&this.hasGrey&&(ansiStyles.dim.open="");for(const t of this._styles.slice().reverse())n=(n=t.open+n.replace(t.closeRe,t.open)+t.close).replace(/\r?\n/g,`${t.close}$&${t.open}`);return ansiStyles.dim.open=i,n}.apply(i,arguments)};i._styles=t,i._empty=e;const o=this;return Object.defineProperty(i,"level",{enumerable:!0,get:()=>o.level,set(t){o.level=t}}),Object.defineProperty(i,"enabled",{enumerable:!0,get:()=>o.enabled,set(t){o.enabled=t}}),i.hasGrey=this.hasGrey||"gray"===n||"grey"===n,i.__proto__=c,i}Object.defineProperties(s.prototype,o),t.exports=s(),t.exports.supportsColor=e,t.exports.default=t.exports}),chalk_1=chalk.supportsColor,chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encode(t){for(var e=0,r=0,n=0,i=0,o="",a=0;a<t.length;a++){var s=t[a];if(a>0&&(o+=";"),0!==s.length){for(var c=0,l=[],u=0,p=s;u<p.length;u++){var h=p[u],f=encodeInteger(h[0]-c);c=h[0],h.length>1&&(f+=encodeInteger(h[1]-e)+encodeInteger(h[2]-r)+encodeInteger(h[3]-n),e=h[1],r=h[2],n=h[3]),5===h.length&&(f+=encodeInteger(h[4]-i),i=h[4]),l.push(f)}o+=l.join(",")}}return o}function encodeInteger(t){var e="";t=t<0?-t<<1|1:t<<1;do{var r=31&t;(t>>=5)>0&&(r|=32),e+=chars[r]}while(t>0);return e}var Chunk=function(t,e,r){this.start=t,this.end=e,this.original=r,this.intro="",this.outro="",this.content=r,this.storeName=!1,this.edited=!1,Object.defineProperties(this,{previous:{writable:!0,value:null},next:{writable:!0,value:null}})};Chunk.prototype.appendLeft=function(t){this.outro+=t},Chunk.prototype.appendRight=function(t){this.intro=this.intro+t},Chunk.prototype.clone=function(){var t=new Chunk(this.start,this.end,this.original);return t.intro=this.intro,t.outro=this.outro,t.content=this.content,t.storeName=this.storeName,t.edited=this.edited,t},Chunk.prototype.contains=function(t){return this.start<t&&t<this.end},Chunk.prototype.eachNext=function(t){for(var e=this;e;)t(e),e=e.next},Chunk.prototype.eachPrevious=function(t){for(var e=this;e;)t(e),e=e.previous},Chunk.prototype.edit=function(t,e,r){return this.content=t,r||(this.intro="",this.outro=""),this.storeName=e,this.edited=!0,this},Chunk.prototype.prependLeft=function(t){this.outro=t+this.outro},Chunk.prototype.prependRight=function(t){this.intro=t+this.intro},Chunk.prototype.split=function(t){var e=t-this.start,r=this.original.slice(0,e),n=this.original.slice(e);this.original=r;var i=new Chunk(t,this.end,n);return i.outro=this.outro,this.outro="",this.end=t,this.edited?(i.edit("",!1),this.content=""):this.content=r,i.next=this.next,i.next&&(i.next.previous=i),i.previous=this,this.next=i,i},Chunk.prototype.toString=function(){return this.intro+this.content+this.outro},Chunk.prototype.trimEnd=function(t){if(this.outro=this.outro.replace(t,""),this.outro.length)return!0;var e=this.content.replace(t,"");return e.length?(e!==this.content&&this.split(this.start+e.length).edit("",void 0,!0),!0):(this.edit("",void 0,!0),this.intro=this.intro.replace(t,""),!!this.intro.length||void 0)},Chunk.prototype.trimStart=function(t){if(this.intro=this.intro.replace(t,""),this.intro.length)return!0;var e=this.content.replace(t,"");return e.length?(e!==this.content&&(this.split(this.end-e.length),this.edit("",void 0,!0)),!0):(this.edit("",void 0,!0),this.outro=this.outro.replace(t,""),!!this.outro.length||void 0)};var btoa=function(){throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")};"undefined"!=typeof window&&"function"==typeof window.btoa?btoa=window.btoa:"function"==typeof Buffer&&(btoa=function(t){return new Buffer(t).toString("base64")});var SourceMap=function(t){this.version=3,this.file=t.file,this.sources=t.sources,this.sourcesContent=t.sourcesContent,this.names=t.names,this.mappings=encode(t.mappings)};function guessIndent(t){var e=t.split("\n"),r=e.filter(function(t){return/^\t+/.test(t)}),n=e.filter(function(t){return/^ {2,}/.test(t)});if(0===r.length&&0===n.length)return null;if(r.length>=n.length)return"\t";var i=n.reduce(function(t,e){var r=/^ +/.exec(e)[0].length;return Math.min(r,t)},1/0);return new Array(i+1).join(" ")}function getRelativePath(t,e){var r=t.split(/[\/\\]/),n=e.split(/[\/\\]/);for(r.pop();r[0]===n[0];)r.shift(),n.shift();if(r.length)for(var i=r.length;i--;)r[i]="..";return r.concat(n).join("/")}SourceMap.prototype.toString=function(){return JSON.stringify(this)},SourceMap.prototype.toUrl=function(){return"data:application/json;charset=utf-8;base64,"+btoa(this.toString())};var toString=Object.prototype.toString;function isObject(t){return"[object Object]"===toString.call(t)}function getLocator(t){for(var e=t.split("\n"),r=[],n=0,i=0;n<e.length;n++)r.push(i),i+=e[n].length+1;return function(t){for(var e=0,n=r.length;e<n;){var i=e+n>>1;t<r[i]?n=i:e=i+1}var o=e-1;return{line:o,column:t-r[o]}}}var Mappings=function(t){this.hires=t,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null};Mappings.prototype.addEdit=function(t,e,r,n){if(e.length){var i=[this.generatedCodeColumn,t,r.line,r.column];n>=0&&i.push(n),this.rawSegments.push(i)}else this.pending&&this.rawSegments.push(this.pending);this.advance(e),this.pending=null},Mappings.prototype.addUneditedChunk=function(t,e,r,n,i){for(var o=e.start,a=!0;o<e.end;)(this.hires||a||i[o])&&this.rawSegments.push([this.generatedCodeColumn,t,n.line,n.column]),"\n"===r[o]?(n.line+=1,n.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0):(n.column+=1,this.generatedCodeColumn+=1),o+=1,a=!1;this.pending=[this.generatedCodeColumn,t,n.line,n.column]},Mappings.prototype.advance=function(t){if(t){var e=t.split("\n");if(e.length>1){for(var r=0;r<e.length-1;r++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=e[e.length-1].length}};var n="\n",warned={insertLeft:!1,insertRight:!1,storeName:!1},MagicString=function(t,e){void 0===e&&(e={});var r=new Chunk(0,t.length,t);Object.defineProperties(this,{original:{writable:!0,value:t},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:r},lastChunk:{writable:!0,value:r},lastSearchedChunk:{writable:!0,value:r},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:e.filename},indentExclusionRanges:{writable:!0,value:e.indentExclusionRanges},sourcemapLocations:{writable:!0,value:{}},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:guessIndent(t)}}),this.byStart[0]=r,this.byEnd[t.length]=r};MagicString.prototype.addSourcemapLocation=function(t){this.sourcemapLocations[t]=!0},MagicString.prototype.append=function(t){if("string"!=typeof t)throw new TypeError("outro content must be a string");return this.outro+=t,this},MagicString.prototype.appendLeft=function(t,e){if("string"!=typeof e)throw new TypeError("inserted content must be a string");this._split(t);var r=this.byEnd[t];return r?r.appendLeft(e):this.intro+=e,this},MagicString.prototype.appendRight=function(t,e){if("string"!=typeof e)throw new TypeError("inserted content must be a string");this._split(t);var r=this.byStart[t];return r?r.appendRight(e):this.outro+=e,this},MagicString.prototype.clone=function(){for(var t=new MagicString(this.original,{filename:this.filename}),e=this.firstChunk,r=t.firstChunk=t.lastSearchedChunk=e.clone();e;){t.byStart[r.start]=r,t.byEnd[r.end]=r;var n=e.next,i=n&&n.clone();i&&(r.next=i,i.previous=r,r=i),e=n}return t.lastChunk=r,this.indentExclusionRanges&&(t.indentExclusionRanges=this.indentExclusionRanges.slice()),Object.keys(this.sourcemapLocations).forEach(function(e){t.sourcemapLocations[e]=!0}),t},MagicString.prototype.generateDecodedMap=function(t){var e=this;t=t||{};var r=Object.keys(this.storedNames),n=new Mappings(t.hires),i=getLocator(this.original);return this.intro&&n.advance(this.intro),this.firstChunk.eachNext(function(t){var o=i(t.start);t.intro.length&&n.advance(t.intro),t.edited?n.addEdit(0,t.content,o,t.storeName?r.indexOf(t.original):-1):n.addUneditedChunk(0,t,e.original,o,e.sourcemapLocations),t.outro.length&&n.advance(t.outro)}),{file:t.file?t.file.split(/[\/\\]/).pop():null,sources:[t.source?getRelativePath(t.file||"",t.source):null],sourcesContent:t.includeContent?[this.original]:[null],names:r,mappings:n.raw}},MagicString.prototype.generateMap=function(t){return new SourceMap(this.generateDecodedMap(t))},MagicString.prototype.getIndentString=function(){return null===this.indentStr?"\t":this.indentStr},MagicString.prototype.indent=function(t,e){var r=/^[^\r\n]/gm;if(isObject(t)&&(e=t,t=void 0),""===(t=void 0!==t?t:this.indentStr||"\t"))return this;var n={};(e=e||{}).exclude&&("number"==typeof e.exclude[0]?[e.exclude]:e.exclude).forEach(function(t){for(var e=t[0];e<t[1];++e)n[e]=!0});var i=!1!==e.indentStart,o=function(e){return i?""+t+e:(i=!0,e)};this.intro=this.intro.replace(r,o);for(var a=0,s=this.firstChunk;s;){var c=s.end;if(s.edited)n[a]||(s.content=s.content.replace(r,o),s.content.length&&(i="\n"===s.content[s.content.length-1]));else for(a=s.start;a<c;){if(!n[a]){var l=this.original[a];"\n"===l?i=!0:"\r"!==l&&i&&(i=!1,a===s.start?s.prependRight(t):(this._splitChunk(s,a),(s=s.next).prependRight(t)))}a+=1}a=s.end,s=s.next}return this.outro=this.outro.replace(r,o),this},MagicString.prototype.insert=function(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")},MagicString.prototype.insertLeft=function(t,e){return warned.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),warned.insertLeft=!0),this.appendLeft(t,e)},MagicString.prototype.insertRight=function(t,e){return warned.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),warned.insertRight=!0),this.prependRight(t,e)},MagicString.prototype.move=function(t,e,r){if(r>=t&&r<=e)throw new Error("Cannot move a selection inside itself");this._split(t),this._split(e),this._split(r);var n=this.byStart[t],i=this.byEnd[e],o=n.previous,a=i.next,s=this.byStart[r];if(!s&&i===this.lastChunk)return this;var c=s?s.previous:this.lastChunk;return o&&(o.next=a),a&&(a.previous=o),c&&(c.next=n),s&&(s.previous=i),n.previous||(this.firstChunk=i.next),i.next||(this.lastChunk=n.previous,this.lastChunk.next=null),n.previous=c,i.next=s||null,c||(this.firstChunk=n),s||(this.lastChunk=i),this},MagicString.prototype.overwrite=function(t,e,r,n){if("string"!=typeof r)throw new TypeError("replacement content must be a string");for(;t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;if(e>this.original.length)throw new Error("end is out of bounds");if(t===e)throw new Error("Cannot overwrite a zero-length range – use appendLeft or prependRight instead");this._split(t),this._split(e),!0===n&&(warned.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),warned.storeName=!0),n={storeName:!0});var i=void 0!==n&&n.storeName,o=void 0!==n&&n.contentOnly;if(i){var a=this.original.slice(t,e);this.storedNames[a]=!0}var s=this.byStart[t],c=this.byEnd[e];if(s){if(e>s.end&&s.next!==this.byStart[s.end])throw new Error("Cannot overwrite across a split point");if(s.edit(r,i,o),s!==c){for(var l=s.next;l!==c;)l.edit("",!1),l=l.next;l.edit("",!1)}}else{var u=new Chunk(t,e,"").edit(r,i);c.next=u,u.previous=c}return this},MagicString.prototype.prepend=function(t){if("string"!=typeof t)throw new TypeError("outro content must be a string");return this.intro=t+this.intro,this},MagicString.prototype.prependLeft=function(t,e){if("string"!=typeof e)throw new TypeError("inserted content must be a string");this._split(t);var r=this.byEnd[t];return r?r.prependLeft(e):this.intro=e+this.intro,this},MagicString.prototype.prependRight=function(t,e){if("string"!=typeof e)throw new TypeError("inserted content must be a string");this._split(t);var r=this.byStart[t];return r?r.prependRight(e):this.outro=e+this.outro,this},MagicString.prototype.remove=function(t,e){for(;t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;if(t===e)return this;if(t<0||e>this.original.length)throw new Error("Character is out of bounds");if(t>e)throw new Error("end must be greater than start");this._split(t),this._split(e);for(var r=this.byStart[t];r;)r.intro="",r.outro="",r.edit(""),r=e>r.end?this.byStart[r.end]:null;return this},MagicString.prototype.lastChar=function(){if(this.outro.length)return this.outro[this.outro.length-1];var t=this.lastChunk;do{if(t.outro.length)return t.outro[t.outro.length-1];if(t.content.length)return t.content[t.content.length-1];if(t.intro.length)return t.intro[t.intro.length-1]}while(t=t.previous);return this.intro.length?this.intro[this.intro.length-1]:""},MagicString.prototype.lastLine=function(){var t=this.outro.lastIndexOf(n);if(-1!==t)return this.outro.substr(t+1);var e=this.outro,r=this.lastChunk;do{if(r.outro.length>0){if(-1!==(t=r.outro.lastIndexOf(n)))return r.outro.substr(t+1)+e;e=r.outro+e}if(r.content.length>0){if(-1!==(t=r.content.lastIndexOf(n)))return r.content.substr(t+1)+e;e=r.content+e}if(r.intro.length>0){if(-1!==(t=r.intro.lastIndexOf(n)))return r.intro.substr(t+1)+e;e=r.intro+e}}while(r=r.previous);return-1!==(t=this.intro.lastIndexOf(n))?this.intro.substr(t+1)+e:this.intro+e},MagicString.prototype.slice=function(t,e){for(void 0===t&&(t=0),void 0===e&&(e=this.original.length);t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;for(var r="",n=this.firstChunk;n&&(n.start>t||n.end<=t);){if(n.start<e&&n.end>=e)return r;n=n.next}if(n&&n.edited&&n.start!==t)throw new Error("Cannot use replaced character "+t+" as slice start anchor.");for(var i=n;n;){!n.intro||i===n&&n.start!==t||(r+=n.intro);var o=n.start<e&&n.end>=e;if(o&&n.edited&&n.end!==e)throw new Error("Cannot use replaced character "+e+" as slice end anchor.");var a=i===n?t-n.start:0,s=o?n.content.length+e-n.end:n.content.length;if(r+=n.content.slice(a,s),!n.outro||o&&n.end!==e||(r+=n.outro),o)break;n=n.next}return r},MagicString.prototype.snip=function(t,e){var r=this.clone();return r.remove(0,t),r.remove(e,r.original.length),r},MagicString.prototype._split=function(t){if(!this.byStart[t]&&!this.byEnd[t])for(var e=this.lastSearchedChunk,r=t>e.end;e;){if(e.contains(t))return this._splitChunk(e,t);e=r?this.byStart[e.end]:this.byEnd[e.start]}},MagicString.prototype._splitChunk=function(t,e){if(t.edited&&t.content.length){var r=getLocator(this.original)(e);throw new Error("Cannot split a chunk that has already been edited ("+r.line+":"+r.column+' – "'+t.original+'")')}var n=t.split(e);return this.byEnd[e]=t,this.byStart[e]=n,this.byEnd[n.end]=n,t===this.lastChunk&&(this.lastChunk=n),this.lastSearchedChunk=t,!0},MagicString.prototype.toString=function(){for(var t=this.intro,e=this.firstChunk;e;)t+=e.toString(),e=e.next;return t+this.outro},MagicString.prototype.isEmpty=function(){var t=this.firstChunk;do{if(t.intro.length&&t.intro.trim()||t.content.length&&t.content.trim()||t.outro.length&&t.outro.trim())return!1}while(t=t.next);return!0},MagicString.prototype.length=function(){var t=this.firstChunk,e=0;do{e+=t.intro.length+t.content.length+t.outro.length}while(t=t.next);return e},MagicString.prototype.trimLines=function(){return this.trim("[\\r\\n]")},MagicString.prototype.trim=function(t){return this.trimStart(t).trimEnd(t)},MagicString.prototype.trimEndAborted=function(t){var e=new RegExp((t||"\\s")+"+$");if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;var r=this.lastChunk;do{var n=r.end,i=r.trimEnd(e);if(r.end!==n&&(this.lastChunk===r&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),i)return!0;r=r.previous}while(r);return!1},MagicString.prototype.trimEnd=function(t){return this.trimEndAborted(t),this},MagicString.prototype.trimStartAborted=function(t){var e=new RegExp("^"+(t||"\\s")+"+");if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;var r=this.firstChunk;do{var n=r.end,i=r.trimStart(e);if(r.end!==n&&(r===this.lastChunk&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),i)return!0;r=r.next}while(r);return!1},MagicString.prototype.trimStart=function(t){return this.trimStartAborted(t),this};var filenameRegex=function(){return/([^\\\/]+)$/},arrFlatten=function(t){return flat(t,[])};function flat(t,e){for(var r,n=0,i=t.length;n<i;n++)r=t[n],Array.isArray(r)?flat(r,e):e.push(r);return e}var slice=[].slice;function diff(t,e){var r=arguments.length,n=t.length,i=-1,o=[];if(1===r)return t;for(r>2&&(e=arrFlatten(slice.call(arguments,1)));++i<n;)~e.indexOf(t[i])||o.push(t[i]);return o}var arrDiff=diff,arrayUnique=function(t){if(!Array.isArray(t))throw new TypeError("array-unique expects an array.");for(var e=t.length,r=-1;r++<e;)for(var n=r+1;n<t.length;++n)t[r]===t[n]&&t.splice(n--,1);return t},toString$2={}.toString,isarray=Array.isArray||function(t){return"[object Array]"==toString$2.call(t)},isobject=function(t){return null!=t&&"object"==typeof t&&!1===isarray(t)},isBuffer_1=function(t){return null!=t&&(isBuffer(t)||isSlowBuffer(t)||!!t._isBuffer)};function isBuffer(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function isSlowBuffer(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&isBuffer(t.slice(0,0))}var toString$3=Object.prototype.toString,kindOf=function(t){if(void 0===t)return"undefined";if(null===t)return"null";if(!0===t||!1===t||t instanceof Boolean)return"boolean";if("string"==typeof t||t instanceof String)return"string";if("number"==typeof t||t instanceof Number)return"number";if("function"==typeof t||t instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(t))return"array";if(t instanceof RegExp)return"regexp";if(t instanceof Date)return"date";var e=toString$3.call(t);return"[object RegExp]"===e?"regexp":"[object Date]"===e?"date":"[object Arguments]"===e?"arguments":"[object Error]"===e?"error":isBuffer_1(t)?"buffer":"[object Set]"===e?"set":"[object WeakSet]"===e?"weakset":"[object Map]"===e?"map":"[object WeakMap]"===e?"weakmap":"[object Symbol]"===e?"symbol":"[object Int8Array]"===e?"int8array":"[object Uint8Array]"===e?"uint8array":"[object Uint8ClampedArray]"===e?"uint8clampedarray":"[object Int16Array]"===e?"int16array":"[object Uint16Array]"===e?"uint16array":"[object Int32Array]"===e?"int32array":"[object Uint32Array]"===e?"uint32array":"[object Float32Array]"===e?"float32array":"[object Float64Array]"===e?"float64array":"object"},isNumber=function(t){var e=kindOf(t);if("number"!==e&&"string"!==e)return!1;var r=+t;return r-r+1>=0&&""!==t},isNumber$1=function(t){var e=typeof t;if("string"===e||t instanceof String){if(!t.trim())return!1}else if("number"!==e&&!(t instanceof Number))return!1;return t-t+1>=0},toString$4=Object.prototype.toString,kindOf$1=function(t){if(void 0===t)return"undefined";if(null===t)return"null";var e=typeof t;if("boolean"===e)return"boolean";if("string"===e)return"string";if("number"===e)return"number";if("symbol"===e)return"symbol";if("function"===e)return isGeneratorFn(t)?"generatorfunction":"function";if(isArray$1(t))return"array";if(isBuffer$1(t))return"buffer";if(isArguments(t))return"arguments";if(isDate(t))return"date";if(isError(t))return"error";if(isRegexp(t))return"regexp";switch(ctorName(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(isGeneratorObj(t))return"generator";switch(e=toString$4.call(t)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return e.slice(8,-1).toLowerCase().replace(/\s/g,"")};function ctorName(t){return t.constructor?t.constructor.name:null}function isArray$1(t){return Array.isArray?Array.isArray(t):t instanceof Array}function isError(t){return t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit}function isDate(t){return t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate}function isRegexp(t){return t instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global}function isGeneratorFn(t,e){return"GeneratorFunction"===ctorName(t)}function isGeneratorObj(t){return"function"==typeof t.throw&&"function"==typeof t.return&&"function"==typeof t.next}function isArguments(t){try{if("number"==typeof t.length&&"function"==typeof t.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}function isBuffer$1(t){return!(!t.constructor||"function"!=typeof t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var max=Math.pow(2,32),node=random,cryptographic=!0;function random(){var t=crypto.randomBytes(4).toString("hex");return parseInt(t,16)/max}node.cryptographic=cryptographic;var randomatic_1=randomatic,isCrypto=!!node.cryptographic,type={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",special:"~!@#$%^&()_+-={}[];',."};function randomatic(t,e,r){if(void 0===t)throw new Error("randomatic expects a string or number.");var n=!1;1===arguments.length&&("string"==typeof t?e=t.length:isNumber$1(t)&&(r={},e=t,t="*")),"object"===kindOf$1(e)&&e.hasOwnProperty("chars")&&(e=(t=(r=e).chars).length,n=!0);var i=r||{},o="",a="";if(-1!==t.indexOf("?")&&(o+=i.chars),-1!==t.indexOf("a")&&(o+=type.lower),-1!==t.indexOf("A")&&(o+=type.upper),-1!==t.indexOf("0")&&(o+=type.number),-1!==t.indexOf("!")&&(o+=type.special),-1!==t.indexOf("*")&&(o+=type.all),n&&(o+=t),i.exclude){var s="string"===kindOf$1(i.exclude)?i.exclude:i.exclude.join("");s=s.replace(new RegExp("[\\]]+","g"),""),o=o.replace(new RegExp("["+s+"]+","g"),""),-1!==i.exclude.indexOf("]")&&(o=o.replace(new RegExp("[\\]]+","g"),""))}for(;e--;)a+=o.charAt(parseInt(node()*o.length,10));return a}type.all=type.lower+type.upper+type.number+type.special,randomatic_1.isCrypto=isCrypto;var cache,res="",repeatString=repeat;function repeat(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var r=t.length*e;if(cache!==t||void 0===cache)cache=t,res="";else if(res.length>=r)return res.substr(0,r);for(;r>res.length&&e>1;)1&e&&(res+=t),e>>=1,t+=t;return res=(res+=t).substr(0,r)}var repeatElement=function(t,e){for(var r=new Array(e),n=0;n<e;n++)r[n]=t;return r},fillRange_1=fillRange;function fillRange(t,e,r,n,i){if(null==t||null==e)throw new Error("fill-range expects the first and second args to be strings.");"function"==typeof r&&(i=r,n={},r=null),"function"==typeof n&&(i=n,n={}),isobject(r)&&(n=r,r="");var o,a=!1,s="",c=n||{};void 0===c.silent&&(c.silent=!0),r=r||c.step;var l=t,u=e;if(e="-0"===e.toString()?0:e,(c.optimize||c.makeRe)&&(r=r?r+="~":r,o=!0,a=!0,s="~"),"string"==typeof r){var p=stepRe().exec(r);if(p){var h=p.index,f=p[0];if("+"===f)return repeatElement(t,e);if("?"===f)return[randomatic_1(t,e)];">"===f?(r=r.substr(0,h)+r.substr(h+1),o=!0):"|"===f?(r=r.substr(0,h)+r.substr(h+1),o=!0,a=!0,s=f):"~"===f&&(r=r.substr(0,h)+r.substr(h+1),o=!0,a=!0,s=f)}else if(!isNumber(r)){if(!c.silent)throw new TypeError("fill-range: invalid step.");return null}}if(/[.&*()[\]^%$#@!]/.test(t)||/[.&*()[\]^%$#@!]/.test(e)){if(!c.silent)throw new RangeError("fill-range: invalid range arguments.");return null}if(!noAlphaNum(t)||!noAlphaNum(e)||hasBoth(t)||hasBoth(e)){if(!c.silent)throw new RangeError("fill-range: invalid range arguments.");return null}var g=isNumber(zeros(t)),d=isNumber(zeros(e));if(!g&&d||g&&!d){if(!c.silent)throw new TypeError("fill-range: first range argument is incompatible with second.");return null}var m=g,b=formatStep(r);m?(t=+t,e=+e):(t=t.charCodeAt(0),e=e.charCodeAt(0));var y=t>e;(t<0||e<0)&&(o=!1,a=!1);var v,_,w=isPadded(l,u),x=[],S=0;if(a&&shouldExpand(t,e,b,m,w,c))return"|"!==s&&"~"!==s||(s=detectSeparator(t,e,b,m,y)),wrap([l,u],s,c);for(;y?t>=e:t<=e;)w&&m&&(_=w(t)),null!==(v="function"==typeof i?i(t,m,_,S++):m?formatPadding(t,_):a&&isInvalidChar(t)?null:String.fromCharCode(t))&&x.push(v),y?t-=b:t+=b;return!a&&!o||c.noexpand?x:("|"!==s&&"~"!==s||(s=detectSeparator(t,e,b,m,y)),1===x.length||t<0||e<0?x:wrap(x,s,c))}function wrap(t,e,r){"~"===e&&(e="-");var n=t.join(e),i=r&&r.regexPrefix;return"|"===e&&(n="("+(n=i?i+n:n)+")"),"-"===e&&(n="["+(n=i&&"^"===i?i+n:n)+"]"),[n]}function isCharClass(t,e,r,n,i){return!i&&(n?t<=9&&e<=9:t<e&&1===r)}function shouldExpand(t,e,r,n,i,o){return(!n||!(t>9||e>9))&&(!i&&1===r&&t<e)}function detectSeparator(t,e,r,n,i){return isCharClass(t,e,r,n,i)?"~":"|"}function formatStep(t){return Math.abs(t>>0)||1}function formatPadding(t,e){var r=e?e+t:t;return e&&"-"===t.toString().charAt(0)&&(r="-"+e+t.toString().substr(1)),r.toString()}function isInvalidChar(t){var e=toStr(t);return"\\"===e||"["===e||"]"===e||"^"===e||"("===e||")"===e||"`"===e}function toStr(t){return String.fromCharCode(t)}function stepRe(){return/\?|>|\||\+|\~/g}function noAlphaNum(t){return/[a-z0-9]/i.test(t)}function hasBoth(t){return/[a-z][0-9]|[0-9][a-z]/i.test(t)}function zeros(t){return/^-*0+$/.test(t.toString())?"0":t}function hasZeros(t){return/[^.]\.|^-*0+[0-9]/.test(t)}function isPadded(t,e){if(hasZeros(t)||hasZeros(e)){var r=length(t),n=length(e),i=r>=n?r:n;return function(t){return repeatString("0",i-length(t))}}return!1}function length(t){return t.toString().length}var expandRange=function(t,e,r){if("string"!=typeof t)throw new TypeError("expand-range expects a string.");"function"==typeof e&&(r=e,e={}),"boolean"==typeof e&&((e={}).makeRe=!0);var n=e||{},i=t.split(".."),o=i.length;return o>3?t:1===o?i:("boolean"==typeof r&&!0===r&&(n.makeRe=!0),i.push(n),fillRange_1.apply(null,i.concat(r)))},before=function(t,e){return t.replace(e,function(t){var e=randomize();return cache$1[e]=t,"__ID"+e+"__"})},after=function(t){return t.replace(/__ID(.{5})__/g,function(t,e){return cache$1[e]})};function randomize(){return Math.random().toString().slice(2,7)}var braceRe,patternRe,cache$1={},preserve={before:before,after:after},braces_1=function(t,e){if("string"!=typeof t)throw new Error("braces expects a string");return braces(t,e)};function braces(t,e,r){if(""===t)return[];Array.isArray(e)||(r=e,e=[]);var n=r||{};e=e||[],void 0===n.nodupes&&(n.nodupes=!0);var i,o=n.fn;switch("function"==typeof n&&(o=n,n={}),patternRe instanceof RegExp||(patternRe=patternRegex()),(t.match(patternRe)||[])[0]){case"\\,":return escapeCommas(t,e,n);case"\\.":return escapeDots(t,e,n);case"/.":return escapePaths(t,e,n);case" ":return splitWhitespace(t);case"{,}":return exponential(t,n,braces);case"{}":return emptyBraces(t,e,n);case"\\{":case"\\}":return escapeBraces(t,e,n);case"${":if(!/\{[^{]+\{/.test(t))return e.concat(t);i=!0,t=preserve.before(t,es6Regex())}braceRe instanceof RegExp||(braceRe=braceRegex());var a=braceRe.exec(t);if(null==a)return[t];var s,c,l=a[1],u=a[2];if(""===u)return[t];if(-1!==u.indexOf(".."))c=(s=expandRange(u,n,o)||u.split(",")).length;else{if('"'===u[0]||"'"===u[0])return e.concat(t.split(/['"]/).join(""));if(s=u.split(","),n.makeRe)return braces(t.replace(l,wrap$1(s,"|")),n);1===(c=s.length)&&n.bash&&(s[0]=wrap$1(s[0],"\\"))}for(var p,h=s.length,f=0;h--;){var g=s[f++];if(/(\.[^.\/])/.test(g))return c>1?s:[t];if(p=splice(t,l,g),/\{[^{}]+?\}/.test(p))e=braces(p,e,n);else if(""!==p){if(n.nodupes&&-1!==e.indexOf(p))continue;e.push(i?preserve.after(p):p)}}return n.strict?filter(e,filterEmpty):e}function exponential(t,e,r){"function"==typeof e&&(r=e,e=null);var n,i,o=e||{},a="__ESC_EXP__",s=t.split("{,}");if(o.nodupes)return r(s.join(""),o);n=s.length-1;for(var c=(i=r(s.join(a),o)).length,l=[],u=0;c--;){var p=i[u++];if(-1===p.indexOf(a))l.push(p);else if((p=p.split("__ESC_EXP__").join(""))&&!1!==o.nodupes)l.push(p);else{var h=Math.pow(2,n);l.push.apply(l,repeatElement(p,h))}}return l}function wrap$1(t,e){return"|"===e?"("+t.join(e)+")":","===e?"{"+t.join(e)+"}":"-"===e?"["+t.join(e)+"]":"\\"===e?"\\{"+t+"\\}":void 0}function emptyBraces(t,e,r){return braces(t.split("{}").join("\\{\\}"),e,r)}function filterEmpty(t){return!!t&&"\\"!==t}function splitWhitespace(t){for(var e=t.split(" "),r=e.length,n=[],i=0;r--;)n.push.apply(n,braces(e[i++]));return n}function escapeBraces(t,e,r){return/\{[^{]+\{/.test(t)?map(braces(t=(t=t.split("\\{").join("__LT_BRACE__")).split("\\}").join("__RT_BRACE__"),e,r),function(t){return(t=t.split("__LT_BRACE__").join("{")).split("__RT_BRACE__").join("}")}):e.concat(t.split("\\").join(""))}function escapeDots(t,e,r){return/[^\\]\..+\\\./.test(t)?map(braces(t=t.split("\\.").join("__ESC_DOT__"),e,r),function(t){return t.split("__ESC_DOT__").join(".")}):e.concat(t.split("\\").join(""))}function escapePaths(t,e,r){return map(braces(t=t.split("/.").join("__ESC_PATH__"),e,r),function(t){return t.split("__ESC_PATH__").join("/.")})}function escapeCommas(t,e,r){return/\w,/.test(t)?map(braces(t=t.split("\\,").join("__ESC_COMMA__"),e,r),function(t){return t.split("__ESC_COMMA__").join(",")}):e.concat(t.split("\\").join(""))}function patternRegex(){return/\${|( (?=[{,}])|(?=[{,}]) )|{}|{,}|\\,(?=.*[{}])|\/\.(?=.*[{}])|\\\.(?={)|\\{|\\}/}function braceRegex(){return/.*(\\?\{([^}]+)\})/}function es6Regex(){return/\$\{([^}]+)\}/}function splice(t,e,r){var n=t.indexOf(e);return t.substr(0,n)+r+t.substr(n+e.length)}function map(t,e){if(null==t)return[];for(var r=t.length,n=new Array(r),i=-1;++i<r;)n[i]=e(t[i],i,t);return n}function filter(t,e){if(null==t)return[];if("function"!=typeof e)throw new TypeError("braces: filter expects a callback function.");for(var r=t.length,n=t.slice(),i=0;r--;)e(t[r],i++)||n.splice(r,1);return n}var isPosixBracket=function(t){return"string"==typeof t&&/\[([:.=+])(?:[^\[\]]|)+\1\]/.test(t)},POSIX={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E",punct:"-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},expandBrackets=brackets;function brackets(t){if(!isPosixBracket(t))return t;var e=!1;-1!==t.indexOf("[^")&&(e=!0,t=t.split("[^").join("[")),-1!==t.indexOf("[!")&&(e=!0,t=t.split("[!").join("["));for(var r=t.split("["),n=t.split("]"),i=r.length!==n.length,o=t.split(/(?::\]\[:|\[?\[:|:\]\]?)/),a=o.length,s=0,c="",l="",u=[];a--;){var p=o[s++];"^[!"!==p&&"[!"!==p||(p="",e=!0);var h=e?"^":"",f=POSIX[p];f?u.push("["+h+f+"]"):p&&(/^\[?\w-\w\]?$/.test(p)?s===o.length?u.push("["+h+p):1===s?u.push(h+p+"]"):u.push(h+p):1===s?l+=p:s===o.length?c+=p:u.push("["+h+p+"]"))}var g=u.join("|"),d=u.length||1;return d>1&&(g="(?:"+g+")",d=1),l&&(d++,"["===l.charAt(0)&&(i?l="\\["+l.slice(1):l+="]"),g=l+g),c&&(d++,"]"===c.slice(-1)&&(c=i?c.slice(0,c.length-1)+"\\]":"["+c),g+=c),d>1&&(-1===(g=g.split("][").join("]|[")).indexOf("|")||/\(\?/.test(g)||(g="(?:"+g+")")),g=g.replace(/\[+=|=\]+/g,"\\b")}brackets.makeRe=function(t){try{return new RegExp(brackets(t))}catch(t){}},brackets.isMatch=function(t,e){try{return brackets.makeRe(e).test(t)}catch(t){return!1}},brackets.match=function(t,e){for(var r=t.length,n=0,i=t.slice(),o=brackets.makeRe(e);n<r;){var a=t[n++];o.test(a)&&i.splice(n,1)}return i};var re,isExtglob=function(t){return"string"==typeof t&&/[@?!+*]\(/.test(t)},cache$2={},extglob_1=extglob;function extglob(t,e){e=e||{};var r,n={},i=0,o=(t=(t=t.replace(/!\(([^\w*()])/g,"$1!(")).replace(/([*\/])\.!\([*]\)/g,function(t,e){return escape("/"===e?"\\/[^.]+":"[^.]+")}))+String(!!e.regex)+String(!!e.contains)+String(!!e.escape);if(cache$2.hasOwnProperty(o))return cache$2[o];for(re instanceof RegExp||(re=regex()),e.negate=!1;r=re.exec(t);){var a=r[1],s=r[3];"!"===a&&(e.negate=!0);var c="__EXTGLOB_"+i+++"__";n[c]=wrap$2(s,a,e.escape),t=t.split(r[0]).join(c)}for(var l=Object.keys(n),u=l.length;u--;){var p=l[u];t=t.split(p).join(n[p])}var h=e.regex?toRegex(t,e.contains,e.negate):t;return h=h.split(".").join("\\."),cache$2[o]=h}function wrap$2(t,e,r){switch(r&&(t=escape(t)),e){case"!":return"(?!"+t+")[^/]"+(r?"%%%~":"*?");case"@":return"(?:"+t+")";case"+":return"(?:"+t+")+";case"*":return"(?:"+t+")"+(r?"%%":"*");case"?":return"(?:"+t+"|)";default:return t}}function escape(t){return t=(t=t.split("*").join("[^/]%%%~")).split(".").join("\\.")}function regex(){return/(\\?[@?!+*$]\\?)(\(([^()]*?)\))/}function negate(t){return"(?!^"+t+").*$"}function toRegex(t,e,r){var n=e?"^":"";return t="(?:"+t+")"+(e?"$":""),r&&(t=n+negate(t)),new RegExp(n+t)}var isGlob=function(t){return"string"==typeof t&&(/[*!?{}(|)[\]]/.test(t)||isExtglob(t))},isWin="win32"===process.platform,removeTrailingSeparator=function(t){var e=t.length-1;if(e<2)return t;for(;isSeparator(t,e);)e--;return t.substr(0,e+1)};function isSeparator(t,e){var r=t[e];return e>0&&("/"===r||isWin&&"\\"===r)}var normalizePath=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");return t=t.replace(/[\\\/]+/g,"/"),!1!==e&&(t=removeTrailingSeparator(t)),t},isExtendable=function(t){return null!=t&&("object"==typeof t||"function"==typeof t)},forIn=function(t,e,r){for(var n in t)if(!1===e.call(r,t[n],n,t))break},hasOwn=Object.prototype.hasOwnProperty,forOwn=function(t,e,r){forIn(t,function(n,i){if(hasOwn.call(t,i))return e.call(r,t[i],i,t)})},object_omit=function(t,e){if(!isExtendable(t))return{};var r,n=(e=[].concat.apply([],[].slice.call(arguments,1)))[e.length-1],i={};"function"==typeof n&&(r=e.pop());var o="function"==typeof r;return e.length||o?(forOwn(t,function(n,a){-1===e.indexOf(a)&&(o?r(n,a,t)&&(i[a]=n):i[a]=n)}),i):t},globParent=function(t){t+="a";do{t=path__default.dirname(t)}while(isGlob(t));return t},globBase=function(t){if("string"!=typeof t)throw new TypeError("glob-base expects a string.");var e={};return e.base=globParent(t),e.isGlob=isGlob(t),"."!==e.base?(e.glob=t.substr(e.base.length),"/"===e.glob.charAt(0)&&(e.glob=e.glob.substr(1))):e.glob=t,e.isGlob||(e.base=dirname(t),e.glob="."!==e.base?t.substr(e.base.length):t),"./"===e.glob.substr(0,2)&&(e.glob=e.glob.substr(2)),"/"===e.glob.charAt(0)&&(e.glob=e.glob.substr(1)),e};function dirname(t){return"/"===t.slice(-1)?t:path__default.dirname(t)}var isDotfile=function(t){if(46===t.charCodeAt(0)&&-1===t.indexOf("/",1))return!0;var e=t.lastIndexOf("/");return-1!==e&&46===t.charCodeAt(e+1)},parseGlob=createCommonjsModule(function(t){var e=t.exports.cache={};function r(t,e,r){return t&&-1!==e.indexOf(r)}function n(t){return t=(t=t.split("__SLASH__").join("/")).split("__DOT__").join(".")}t.exports=function(t){if(e.hasOwnProperty(t))return e[t];var i={};i.orig=t,i.is={},t=t.replace(/\{([^{}]*?)}|\(([^()]*?)\)|\[([^\[\]]*?)\]/g,function(t,e,r,n){var i=e||r||n;return i?t.split(i).join(i.split("/").join("__SLASH__").split(".").join("__DOT__")):t});var o=globBase(t);i.is.glob=o.isGlob,i.glob=o.glob,i.base=o.base;var a=/([^\/]*)$/.exec(t);i.path={},i.path.dirname="",i.path.basename=a[1]||"",i.path.dirname=t.split(i.path.basename).join("")||"";var s=(i.path.basename||"").split(".")||"";i.path.filename=s[0]||"",i.path.extname=s.slice(1).join(".")||"",i.path.ext="",isGlob(i.path.dirname)&&!i.path.basename&&(/\/$/.test(i.glob)||(i.path.basename=i.glob),i.path.dirname=i.base),-1!==t.indexOf("/")||i.is.globstar||(i.path.dirname="",i.path.basename=i.orig);var c=i.path.basename.indexOf(".");if(-1!==c&&(i.path.filename=i.path.basename.slice(0,c),i.path.extname=i.path.basename.slice(c)),"."===i.path.extname.charAt(0)){var l=i.path.extname.split(".");i.path.ext=l[l.length-1]}i.glob=n(i.glob),i.path.dirname=n(i.path.dirname),i.path.basename=n(i.path.basename),i.path.filename=n(i.path.filename),i.path.extname=n(i.path.extname);var u=t&&i.is.glob;return i.is.negated=t&&"!"===t.charAt(0),i.is.extglob=t&&isExtglob(t),i.is.braces=r(u,t,"{"),i.is.brackets=r(u,t,"[:"),i.is.globstar=r(u,t,"**"),i.is.dotfile=isDotfile(i.path.basename)||isDotfile(i.path.filename),i.is.dotdir=function(t){if(-1!==t.indexOf("/."))return!0;if("."===t.charAt(0)&&"/"!==t.charAt(1))return!0;return!1}(i.path.dirname),e[t]=i}}),parseGlob_1=parseGlob.cache,isPrimitive=function(t){return null==t||"function"!=typeof t&&"object"!=typeof t},isEqualShallow=function(t,e){if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;var r,n=0,i=0;for(r in e)if(i++,!isPrimitive(e[r])||!t.hasOwnProperty(r)||t[r]!==e[r])return!1;for(r in t)n++;return n===i},basic={},cache$3={},regexCache_1=regexCache;function regexCache(t,e,r){var n,i,o="_default_";if(!e&&!r)return"function"!=typeof t?t:basic[o]||(basic[o]=t(e));if("string"==typeof e){if(!r)return basic[e]||(basic[e]=t(e));o=e}else r=e;return(i=cache$3[o])&&isEqualShallow(i.opts,r)?i.regex:(memo(o,r,n=t(e,r)),n)}function memo(t,e,r){cache$3[t]={regex:r,opts:e}}var cache_1=cache$3,basic_1=basic;regexCache_1.cache=cache_1,regexCache_1.basic=basic_1;var unesc,temp,utils_1=createCommonjsModule(function(t){var e=process&&"win32"===process.platform,r=t.exports;r.diff=arrDiff,r.unique=arrayUnique,r.braces=braces_1,r.brackets=expandBrackets,r.extglob=extglob_1,r.isExtglob=isExtglob,r.isGlob=isGlob,r.typeOf=kindOf,r.normalize=normalizePath,r.omit=object_omit,r.parseGlob=parseGlob,r.cache=regexCache_1,r.filename=function(t){var e=t.match(filenameRegex());return e&&e[0]},r.isPath=function(t,e){return e=e||{},function(n){var i=r.unixify(n,e);return e.nocase?t.toLowerCase()===i.toLowerCase():t===i}},r.hasPath=function(t,e){return function(n){return-1!==r.unixify(t,e).indexOf(n)}},r.matchPath=function(t,e){return e&&e.contains?r.hasPath(t,e):r.isPath(t,e)},r.hasFilename=function(t){return function(e){var n=r.filename(e);return n&&t.test(n)}},r.arrayify=function(t){return Array.isArray(t)?t:[t]},r.unixify=function(t,n){return n&&!1===n.unixify?t:n&&!0===n.unixify||e||"\\"===path__default.sep?r.normalize(t,!1):n&&!0===n.unescape?t?t.toString().replace(/\\(\w)/g,"$1"):"":t},r.escapePath=function(t){return t.replace(/[\\.]/g,"\\$&")},r.unescapeGlob=function(t){return t.replace(/[\\"']/g,"")},r.escapeRe=function(t){return t.replace(/[-[\\$*+?.#^\s{}(|)\]]/g,"\\$&")},t.exports=r}),chars$1={};function reverse(t,e){return Object.keys(t).reduce(function(r,n){var i=e?e+n:n;return r[t[n]]=i,r},{})}chars$1.escapeRegex={"?":/\?/g,"@":/\@/g,"!":/\!/g,"+":/\+/g,"*":/\*/g,"(":/\(/g,")":/\)/g,"[":/\[/g,"]":/\]/g},chars$1.ESC={"?":"__UNESC_QMRK__","@":"__UNESC_AMPE__","!":"__UNESC_EXCL__","+":"__UNESC_PLUS__","*":"__UNESC_STAR__",",":"__UNESC_COMMA__","(":"__UNESC_LTPAREN__",")":"__UNESC_RTPAREN__","[":"__UNESC_LTBRACK__","]":"__UNESC_RTBRACK__"},chars$1.UNESC=unesc||(unesc=reverse(chars$1.ESC,"\\")),chars$1.ESC_TEMP={"?":"__TEMP_QMRK__","@":"__TEMP_AMPE__","!":"__TEMP_EXCL__","*":"__TEMP_STAR__","+":"__TEMP_PLUS__",",":"__TEMP_COMMA__","(":"__TEMP_LTPAREN__",")":"__TEMP_RTPAREN__","[":"__TEMP_LTBRACK__","]":"__TEMP_RTBRACK__"},chars$1.TEMP=temp||(temp=reverse(chars$1.ESC_TEMP));var chars_1=chars$1,glob=createCommonjsModule(function(t){var e=t.exports=function t(e,r){if(!(this instanceof t))return new t(e,r);this.options=r||{},this.pattern=e,this.history=[],this.tokens={},this.init(e)};e.prototype.init=function(t){this.orig=t,this.negated=this.isNegated(),this.options.track=this.options.track||!1,this.options.makeRe=!0},e.prototype.track=function(t){this.options.track&&this.history.push({msg:t,pattern:this.pattern})},e.prototype.isNegated=function(){return 33===this.pattern.charCodeAt(0)&&(this.pattern=this.pattern.slice(1),!0)},e.prototype.braces=function(){if(!0!==this.options.nobraces&&!0!==this.options.nobrace){var t=this.pattern.match(/[\{\(\[]/g),e=this.pattern.match(/[\}\)\]]/g);t&&e&&t.length!==e.length&&(this.options.makeRe=!1);var r=utils_1.braces(this.pattern,this.options);this.pattern=r.join("|")}},e.prototype.brackets=function(){!0!==this.options.nobrackets&&(this.pattern=utils_1.brackets(this.pattern))},e.prototype.extglob=function(){!0!==this.options.noextglob&&utils_1.isExtglob(this.pattern)&&(this.pattern=utils_1.extglob(this.pattern,{escape:!0}))},e.prototype.parse=function(t){return this.tokens=utils_1.parseGlob(t||this.pattern,!0),this.tokens},e.prototype._replace=function(t,e,r){this.track('before (find): "'+t+'" (replace with): "'+e+'"'),r&&(e=e.split("?").join("%~").split("*").join("%%")),this.pattern=t&&e&&"string"==typeof t?this.pattern.split(t).join(e):this.pattern.replace(t,e),this.track("after")},e.prototype.escape=function(t){this.track("before escape: ");this.pattern=t.replace(/["\\](['"]?[^"'\\]['"]?)/g,function(t,e){var r=chars_1.ESC,n=r&&r[e];return n||(/[a-z]/i.test(t)?t.split("\\").join(""):t)}),this.track("after escape: ")},e.prototype.unescape=function(t){this.pattern=t.replace(/__([A-Z]+)_([A-Z]+)__/g,function(t,e){return chars_1[e][t]}),this.pattern=function(t){return t=(t=t.split("%~").join("?")).split("%%").join("*")}(this.pattern)}}),expand_1=expand;function expand(t,e){if("string"!=typeof t)throw new TypeError("micromatch.expand(): argument should be a string.");var r=new glob(t,e||{}),n=r.options;if(!utils_1.isGlob(t))return r.pattern=r.pattern.replace(/([\/.])/g,"\\$1"),r;if(r.pattern=r.pattern.replace(/(\+)(?!\()/g,"\\$1"),r.pattern=r.pattern.split("$").join("\\$"),"boolean"!=typeof n.braces&&"boolean"!=typeof n.nobraces&&(n.braces=!0),".*"===r.pattern)return{pattern:"\\."+star,tokens:i,options:n};if("*"===r.pattern)return{pattern:oneStar(n.dot),tokens:i,options:n};r.parse();var i=r.tokens;return i.is.negated=n.negated,!0!==n.dotfiles&&!i.is.dotfile||!1===n.dot||(n.dotfiles=!0,n.dot=!0),!0!==n.dotdirs&&!i.is.dotdir||!1===n.dot||(n.dotdirs=!0,n.dot=!0),/[{,]\./.test(r.pattern)&&(n.makeRe=!1,n.dot=!0),!0!==n.nonegate&&(n.negated=r.negated),"."===r.pattern.charAt(0)&&"/"!==r.pattern.charAt(1)&&(r.pattern="\\"+r.pattern),r.track("before braces"),i.is.braces&&r.braces(),r.track("after braces"),r.track("before extglob"),i.is.extglob&&r.extglob(),r.track("after extglob"),r.track("before brackets"),i.is.brackets&&r.brackets(),r.track("after brackets"),r._replace("[!","[^"),r._replace("(?","(%~"),r._replace(/\[\]/,"\\[\\]"),r._replace("/[","/"+(n.dot?dotfiles:nodot)+"[",!0),r._replace("/?","/"+(n.dot?dotfiles:nodot)+"[^/]",!0),r._replace("/.","/(?=.)\\.",!0),r._replace(/^(\w):([\\\/]+?)/gi,"(?=.)$1:$2",!0),-1!==r.pattern.indexOf("[^")&&(r.pattern=negateSlash(r.pattern)),!1!==n.globstar&&"**"===r.pattern?r.pattern=globstar(n.dot):(r.pattern=balance(r.pattern,"[","]"),r.escape(r.pattern),i.is.globstar&&(r.pattern=collapse(r.pattern,"/**"),r.pattern=collapse(r.pattern,"**/"),r._replace("/**/","(?:/"+globstar(n.dot)+"/|/)",!0),r._replace(/\*{2,}/g,"**"),r._replace(/(\w+)\*(?!\/)/g,"$1[^/]*?",!0),r._replace(/\*\*\/\*(\w)/g,globstar(n.dot)+"\\/"+(n.dot?dotfiles:nodot)+"[^/]*?$1",!0),!0!==n.dot&&r._replace(/\*\*\/(.)/g,"(?:**\\/|)$1"),(""!==i.path.dirname||/,\*\*|\*\*,/.test(r.orig))&&r._replace("**",globstar(n.dot),!0)),r._replace(/\/\*$/,"\\/"+oneStar(n.dot),!0),r._replace(/(?!\/)\*$/,star,!0),r._replace(/([^\/]+)\*/,"$1"+oneStar(!0),!0),r._replace("*",oneStar(n.dot),!0),r._replace("?.","?\\.",!0),r._replace("?:","?:",!0),r._replace(/\?+/g,function(t){var e=t.length;return 1===e?qmark:qmark+"{"+e+"}"}),r._replace(/\.([*\w]+)/g,"\\.$1"),r._replace(/\[\^[\\\/]+\]/g,qmark),r._replace(/\/+/g,"\\/"),r._replace(/\\{2,}/g,"\\")),r.unescape(r.pattern),r._replace("__UNESC_STAR__","*"),r._replace("?.","?\\."),r._replace("[^\\/]",qmark),r.pattern.length>1&&/^[\[?*]/.test(r.pattern)&&(r.pattern=(n.dot?dotfiles:nodot)+r.pattern),r}function collapse(t,e){var r=t.split(e),n=""===r[0],i=""===r[r.length-1];return r=r.filter(Boolean),n&&r.unshift(""),i&&r.push(""),r.join(e)}function negateSlash(t){return t.replace(/\[\^([^\]]*?)\]/g,function(t,e){return-1===e.indexOf("/")&&(e="\\/"+e),"[^"+e+"]"})}function balance(t,e,r){var n=t.split(e);return n.join("").length!==t.split(r).join("").length?(t=n.join("\\"+e)).split(r).join("\\"+r):t}var qmark="[^/]",star=qmark+"*?",nodot="(?!\\.)(?=.)",dotfileGlob="(?:\\/|^)\\.{1,2}($|\\/)",dotfiles="(?!"+dotfileGlob+")(?=.)",twoStarDot="(?:(?!"+dotfileGlob+").)*?";function oneStar(t){return t?"(?!"+dotfileGlob+")(?=.)"+star:nodot+star}function globstar(t){return t?twoStarDot:"(?:(?!(?:\\/|^)\\.).)*?"}function micromatch(t,e,r){if(!t||!e)return[];if(void 0===(r=r||{}).cache&&(r.cache=!0),!Array.isArray(e))return match(t,e,r);for(var n=e.length,i=0,o=[],a=[];n--;){var s=e[i++];"string"==typeof s&&33===s.charCodeAt(0)?o.push.apply(o,match(t,s.slice(1),r)):a.push.apply(a,match(t,s,r))}return utils_1.diff(a,o)}function match(t,e,r){if("string"!==utils_1.typeOf(t)&&!Array.isArray(t))throw new Error(msg("match","files","a string or array"));t=utils_1.arrayify(t);var n=(r=r||{}).negate||!1,i=e;"string"==typeof e&&((n="!"===e.charAt(0))&&(e=e.slice(1)),!0===r.nonegate&&(n=!1));for(var o=matcher(e,r),a=t.length,s=0,c=[];s<a;){var l=t[s++],u=utils_1.unixify(l,r);o(u)&&c.push(u)}if(0===c.length){if(!0===r.failglob)throw new Error('micromatch.match() found no matches for: "'+i+'".');(r.nonull||r.nullglob)&&c.push(utils_1.unescapeGlob(i))}return n&&(c=utils_1.diff(t,c)),r.ignore&&r.ignore.length&&(e=r.ignore,r=utils_1.omit(r,["ignore"]),c=utils_1.diff(c,micromatch(c,e,r))),r.nodupes?utils_1.unique(c):c}function filter$1(t,e){if(!Array.isArray(t)&&"string"!=typeof t)throw new TypeError(msg("filter","patterns","a string or array"));for(var r=(t=utils_1.arrayify(t)).length,n=0,i=Array(r);n<r;)i[n]=matcher(t[n++],e);return function(t){if(null==t)return[];var r=i.length,n=0,o=!0;for(t=utils_1.unixify(t,e);n<r;){if(!(0,i[n++])(t)){o=!1;break}}return o}}function isMatch(t,e,r){if("string"!=typeof t)throw new TypeError(msg("isMatch","filepath","a string"));return t=utils_1.unixify(t,r),"object"===utils_1.typeOf(e)?matcher(t,e):matcher(e,r)(t)}function contains(t,e,r){if("string"!=typeof t)throw new TypeError(msg("contains","pattern","a string"));return(r=r||{}).contains=""!==e,t=utils_1.unixify(t,r),r.contains&&!utils_1.isGlob(e)?-1!==t.indexOf(e):matcher(e,r)(t)}function any(t,e,r){if(!Array.isArray(e)&&"string"!=typeof e)throw new TypeError(msg("any","patterns","a string or array"));var n=(e=utils_1.arrayify(e)).length;for(t=utils_1.unixify(t,r);n--;){if(matcher(e[n],r)(t))return!0}return!1}function matchKeys(t,e,r){if("object"!==utils_1.typeOf(t))throw new TypeError(msg("matchKeys","first argument","an object"));var n=matcher(e,r),i={};for(var o in t)t.hasOwnProperty(o)&&n(o)&&(i[o]=t[o]);return i}function matcher(t,e){if("function"==typeof t)return t;if(t instanceof RegExp)return function(e){return t.test(e)};if("string"!=typeof t)throw new TypeError(msg("matcher","pattern","a string, regex, or function"));if(t=utils_1.unixify(t,e),!utils_1.isGlob(t))return utils_1.matchPath(t,e);var r=makeRe(t,e);return e&&e.matchBase?utils_1.hasFilename(r,e):function(t){return t=utils_1.unixify(t,e),r.test(t)}}function toRegex$1(t,e){var r=Object.create(e||{}),n=r.flags||"";r.nocase&&-1===n.indexOf("i")&&(n+="i");var i,o=expand_1(t,r);r.negated=r.negated||o.negated,r.negate=r.negated,t=wrapGlob(o.pattern,r);try{return i=new RegExp(t,n)}catch(t){if(t.reason="micromatch invalid regex: ("+i+")",r.strict)throw new SyntaxError(t)}return/$^/}function wrapGlob(t,e){var r=e&&!e.contains?"^":"";return t="(?:"+t+")"+(e&&!e.contains?"$":""),e&&e.negate?r+"(?!^"+t+").*$":r+t}function makeRe(t,e){if("string"!==utils_1.typeOf(t))throw new Error(msg("makeRe","glob","a string"));return utils_1.cache(toRegex$1,t,e)}function msg(t,e,r){return"micromatch."+t+"(): "+e+" should be "+r+"."}micromatch.any=any,micromatch.braces=micromatch.braceExpand=utils_1.braces,micromatch.contains=contains,micromatch.expand=expand_1,micromatch.filter=filter$1,micromatch.isMatch=isMatch,micromatch.makeRe=makeRe,micromatch.match=match,micromatch.matcher=matcher,micromatch.matchKeys=matchKeys;var micromatch_1=micromatch;function ensureArray(t){return Array.isArray(t)?t:null==t?[]:[t]}function createFilter(t,e){var r=function(t){return isRegexp$1(t)?t:{test:micromatch_1.matcher(path.resolve(t).split(path.sep).join("/"))}};return t=ensureArray(t).map(r),e=ensureArray(e).map(r),function(r){if("string"!=typeof r)return!1;if(/\0/.test(r))return!1;r=r.split(path.sep).join("/");for(var n=0;n<e.length;++n){if(e[n].test(r))return!1}for(var i=0;i<t.length;++i){if(t[i].test(r))return!0}return!t.length}}function isRegexp$1(t){return t instanceof RegExp}var reservedWords="break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public".split(" "),builtins="arguments Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl".split(" "),blacklisted=Object.create(null);function escape$1(t){return t.replace(/[-[\]\/{}()*+?.\\^$|]/g,"\\$&")}function ensureFunction(t){return"function"==typeof t?t:function(){return t}}function longest(t,e){return e.length-t.length}function getReplacements(t){if(t.values)return Object.assign({},t.values);var e=Object.assign({},t);return delete e.delimiters,delete e.include,delete e.exclude,delete e.sourcemap,delete e.sourceMap,e}function mapToFunctions(t){return Object.keys(t).reduce(function(e,r){return e[r]=ensureFunction(t[r]),e},{})}function replace(t){void 0===t&&(t={});var e=createFilter(t.include,t.exclude),r=t.delimiters,n=mapToFunctions(getReplacements(t)),i=Object.keys(n).sort(longest).map(escape$1),o=r?new RegExp(escape$1(r[0])+"("+i.join("|")+")"+escape$1(r[1]),"g"):new RegExp("\\b("+i.join("|")+")\\b","g");return{name:"replace",transform:function(r,i){if(!e(i))return null;for(var a,s,c,l,u=new MagicString(r),p=!1;a=o.exec(r);)p=!0,c=(s=a.index)+a[0].length,l=String(n[a[1]](i)),u.overwrite(s,c,l);if(!p)return null;var h={code:u.toString()};return!1!==t.sourceMap&&!1!==t.sourcemap&&(h.map=u.generateMap({hires:!0})),h}}}function readTs(t){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(e){return[2,new Promise(function(e,r){if(fs.existsSync(t)){var n=t.replace(/.ts$/,".js");fs.existsSync(n)&&fs.unlinkSync(n);var i=child_process.spawnSync("tsc",[t,"--module","commonjs"],{shell:!0,encoding:"utf8"});if(fs.existsSync(n)){e(require(n).default),fs.unlinkSync(n)}else{var o=i.error&&i.error.message||i.stderr;r(new Error('编译"build.config.ts"时出错！'+o))}}else r(new Error("build.config.ts 不存在!"))})]})})}function build(){return tslib_1.__awaiter(this,void 0,void 0,function(){var t,e,r;return tslib_1.__generator(this,function(n){switch(n.label){case 0:return[4,readTs(path.resolve(process.cwd(),"./build.config.ts"))];case 1:return t=n.sent(),e={experimentalCodeSplitting:!0,input:t.input||["src/index.ts"],plugins:[typescript$1(),json(),resolve({module:!0,jsnext:!0,main:!0,preferBuiltins:!1}),commonjs(),replace({"/Volumes/RamDisk/temp/happywork-node-builder/src/build":function(t){return'"'+path.dirname(t)+'"'}}),babel({exclude:"node_modules/**"}),t.mini&&rollupPluginTerser.terser()],external:t.external,onwarn:function(t){var e=t.code,r=t.message,n=t.loc,i=t.frame;if("UNRESOLVED_IMPORT"!==e){if("NON_EXISTENT_EXPORT"===e)throw new Error(r);n?(console.warn(n.file+" ("+n.line+":"+n.column+") "+r),i&&console.warn(i)):console.warn(r)}}},[4,rollup.rollup(e)];case 2:return r=n.sent(),t.output instanceof Array?t.output.map(function(t){resolveOutput(t,r)}):resolveOutput(t.output,r),[2]}})})}function resolveOutput(t,e){return tslib_1.__awaiter(this,void 0,void 0,function(){var r;return tslib_1.__generator(this,function(n){switch(n.label){case 0:return r={dir:t.dir||"dist",format:t.format||"cjs",banner:t.banner||"",footer:t.footer||"",sourcemap:t.sourcemap||!1},[4,e.write(r)];case 1:return n.sent(),[2]}})})}function print(t){console.log(chalk.white(t))}function printSuccess(t){console.log(chalk.green(t))}function printError(t){console.log(chalk.red(t))}function __awaiter(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})}function __generator(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function __awaiter$1(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{c(n.next(t))}catch(t){o(t)}}function s(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})}function __generator$1(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function isDirectory(t){return fs.statSync(t).isDirectory()}function getAllFiles(t){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(e){return[2,getAllFilesSync(t)]})})}function getAllFilesSync(t){t=t.replace(/\/$/,"");for(var e=[],r=0,n=fs.readdirSync(t);r<n.length;r++){var i=t+"/"+n[r];isDirectory(i)?e=e.concat(getAllFilesSync(i+"/")):e.push(""+i)}return e}function readFileUtf8Sync(t){return fs.readFileSync(t,{encoding:"utf-8"})}function saveFileUtf8Sync(t,e){fs.writeFileSync(t,e,{encoding:"utf-8"})}reservedWords.concat(builtins).forEach(function(t){return blacklisted[t]=!0});var renameFileList=[];function rename(t){return t.replace(/\/_/,"/").replace(/_\//g,"/").replace(/\/_/g,"/").replace(/_\./g,".").replace(/_/g,".")}function renameFile(t){return __awaiter(this,void 0,void 0,function(){var e,r,n,i,o;return __generator(this,function(a){switch(a.label){case 0:return[4,getAllFiles(t)];case 1:for(e=a.sent(),r=0,n=e;r<n.length;r++)i=n[r],o=rename(i),i!=o&&(fs.renameSync(i,o),renameFileList.push({sourceName:i.substr(i.lastIndexOf("/")+1),targetName:o.substr(o.lastIndexOf("/")+1)}));return[2]}})})}function replaceFile(t){return __awaiter(this,void 0,void 0,function(){var e,r,n,i,o;return __generator(this,function(a){switch(a.label){case 0:return[4,getAllFiles(t)];case 1:for(e=a.sent(),r=0,n=e;r<n.length;r++)((i=n[r]).endsWith(".html")||i.endsWith(".js")||i.endsWith(".htm"))&&(o=readFileUtf8Sync(i),renameFileList.map(function(t){o=o.replace(new RegExp(t.sourceName,"g"),t.targetName)}),saveFileUtf8Sync(i,o));return[2]}})})}function format(t){(function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,renameFile(t)];case 1:return e.sent(),[4,replaceFile(t)];case 2:return e.sent(),[2]}})})})().then().catch(function(t){console.log(t)})}function doc(t){return tslib_1.__awaiter(this,void 0,void 0,function(){var e,r;return tslib_1.__generator(this,function(n){switch(n.label){case 0:return print("正在生成文档..."),e=path.resolve(t,"docs"),r=path.resolve(t,"src"),print("执行命令：typedoc --out "+e+" "+r+" --module commonjs --hideGenerator --lib lib.es6.d.ts"),[4,child_process.spawnSync("typedoc",["--out",e,r,"--module","commonjs","--hideGenerator","--lib","lib.es6.d.ts"])];case 1:return n.sent(),[4,format(e)];case 2:return n.sent(),[2]}})})}function addBuildCommand(){commander.command("build").option("--doc","是否生成文档",!1).description("构建项目").action(function(t){build().then().catch(function(t){console.error(chalk.red("构建失败： "+t.message)),process.exit(1)}),t.doc&&doc(process.cwd())})}function unitTest(t,e){print("单元测试开始...");var r={encoding:"utf8",stdio:[process.stdin,process.stdout,process.stderr],shell:!0};print("执行命令：nyc mocha "+e.join(" "));var n=child_process.spawnSync("nyc",["mocha"].concat(e),r);if(0!==n.status){var i=n.error&&n.error.message||n.stderr;return i&&printError(i),printError("单元测试不通过！"),void process.exit(n.status)}print("单元测试成功结束")}function createNycrcFile(t){var e=path.resolve(t,".nycrc");return fs.writeFileSync(e,'{\n  "include": [\n    "src/**/*.ts"\n  ],\n  "extension": [\n    ".ts"\n  ],\n  "require": [\n    "ts-node/register"\n  ],\n  "sourceMap": true,\n  "instrument": true\n}'.trim()),e}function coveralls(t,e){print("覆盖率开始...");var r="nyc report --reporter=text-lcov | coveralls";print("执行命令："+r);child_process.execSync(r,{encoding:"utf-8",cwd:t});printSuccess("覆盖率完成")}function addUnitTestCommand(){commander.command("test").option("--coveralls","是否进行覆盖率测试",!1).description("单元测试").action(function(t){var e=process.cwd(),r=createNycrcFile(e);unitTest(e,[]),t.coveralls&&coveralls(e,[]),fs.unlinkSync(r)})}addBuildCommand(),addUnitTestCommand(),commander.parse(process.argv);
//# sourceMappingURL=index.js.map
